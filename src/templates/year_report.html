{% extends 'base.html' %}

{% block body %}
    <!-- 以下を変更 -->

    <div id="page">
		<nav class="fh5co-nav" role="navigation">
			<div class="container">
				<div class="row">
					<div class="col-xs-12 text-center">
						<div id="fh5co-logo"><a href="./">ケロマツの家計簿<span>.</span></a></div>
					</div>
					<div class="col-xs-12 text-center menu-1">
						<ul>
							<li><a href="./">ホーム</a></li>
							<li class="has-dropdown">
								<a>登録</a>
								<ul class="dropdown">
									<li><a href="/move_registration_buy_page">支出登録</a></li>
									<li><a href="/move_registration_income_page">収入登録</a></li>
									<li><a 貯金登録 href="/move_registration_saving_page">貯金登録</a></li>
								</ul>
							</li>
							<li class="has-dropdown">
								<a>レポート</a>
								<ul class="dropdown">
									<li><a href="/move_month_report_page">月間レポート</a></li>
									<li class="active"><a href="/move_year_report_page">年間レポート</a></li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</nav>

		<header id="fh5co-header" class="fh5co-cover" role="banner" style="background-image:url(../static/images/background.jpeg);">
			<div class="overlay"></div>
			<div class="container">
				<div class="row">
					<div class="col-md-12 col-md-offset-0 text-center">
						<div class="display-t">
							<div class="display-tc animate-box" data-animate-effect="fadeInUp">
								<h1 class="mb30">年間レポート</h1>
								<form method="POST">
									<label for="fname">過去のレポート：</label>
									<select name="year_selector" onchange="this.form.submit()">
										{% for year in year_list %}
										<option value="{{ year }}" {% if year== current_year %} selected {% endif %}>{{ year }}</option>
										{% endfor %}
										</option>
									</select>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
	</div>

    <div id="fh5co-counter">
        <div class="container">

            <div class="row animate-box" data-animate-effect="fadeInUp">
                <div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
                    <span>年間レポート</span>
                    <h2>今年のKPI</h2>
                    <p>今年の現状を把握しとけ</p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInLeft">
                    <div class="feature-center">
                        <span class="icon">
                            <i class="ti-download"></i>
                        </span>
                        <span class="counter"><span class="js-counter" data-from="0" data-to="{{ kpi_dict['income'] }}" data-speed="1500" data-refresh-interval="50">{{ kpi_dict['income'] }}</span>K+</span>
                        <span class="counter-label">現在の年収</span>

                    </div>
                </div>
                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInLeft">
                    <div class="feature-center">
                        <span class="icon">
                            <i class="ti-download"></i>
                        </span>
                        <span class="counter"><span class="js-counter" data-from="0" data-to="{{ kpi_dict['pred_income'] }}" data-speed="1500" data-refresh-interval="50">{{ kpi_dict['pred_income'] }}</span>K+</span>
                        <span class="counter-label">見込み年収</span>

                    </div>
                </div>
                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInLeft">
                    <div class="feature-center">
                        <span class="icon">
                            <i class="ti-download"></i>
                        </span>
                        <span class="counter"><span class="js-counter" data-from="0" data-to="{{ kpi_dict['residual_income'] }}" data-speed="1500" data-refresh-interval="50">{{ kpi_dict['residual_income'] }}</span>K+</span>
                        <span class="counter-label">現在の手取り</span>

                    </div>
                </div>
				<div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInLeft">
                    <div class="feature-center">
                        <span class="icon">
                            <i class="ti-download"></i>
                        </span>
                        <span class="counter"><span class="js-counter" data-from="0" data-to="{{ kpi_dict['saving'] }}" data-speed="1500" data-refresh-interval="50">{{ kpi_dict['saving'] }}</span>K+</span>
                        <span class="counter-label">今年の貯金額</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="fh5co-blog" class="fh5co-bg-section">
		<div class="container">
			<div class="row animate-box row-pb-md" data-animate-effect="fadeInUp">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
					<span>年間レポート</span>
					<h2>今年の月別給与</h2>
					<p>頑張って増やしていこうな</p>
				</div>
			</div>
		</div>
	</div>

	{{ graph_dict["year_income_by_month"] | safe}}

	<div id="fh5co-blog" class="fh5co-bg-section">
		<div class="container">
			<div class="row animate-box row-pb-md" data-animate-effect="fadeInUp">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
					<span>年間レポート</span>
					<h2>今年の月別収支</h2>
					<p>見直そうな？</p>
				</div>
			</div>
		</div>
	</div>

	{{ graph_dict["year_income_and_outgo_by_month"] | safe}}

	<div id="fh5co-blog" class="fh5co-bg-section">
		<div class="container">
			<div class="row animate-box row-pb-md" data-animate-effect="fadeInUp">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
					<span>年間レポート</span>
					<h2>今年の貯金の遷移</h2>
					<p>増えていくの楽しいやろ？</p>
				</div>
			</div>
		</div>
	</div>

	{{ graph_dict["year_cumsum_saving"] | safe}}

{% endblock %}